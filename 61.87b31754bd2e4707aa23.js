(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{oZot:function(e,t,o){"use strict";o.r(t),o.d(t,"ProductDetailsPageModule",function(){return p});var i=o("ofXK"),n=o("3Pt+"),r=o("/oCc"),c=o("TEn/"),s=o("tyNb"),a=o("mrSG"),l=o("fXoL"),b=o("Gdn9");const d=function(){return{money:!0}},u=[{path:"",component:(()=>{class e{constructor(e,t,o,i){this.activatedRoute=e,this.productService=t,this.alertController=o,this.location=i,this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.information=null,this.title=null,this.category=null,this.description=null,this.price=null}ngOnInit(){this.productService.getDetails(this.id).subscribe(e=>{this.information=e,this.title=this.information.title,this.category=this.information.category,this.description=this.information.description,this.price=this.getFormattedPrice(this.information.price).replace("R$","")})}ionViewDidEnter(){}openWebsite(){window.open(this.information.Website,"_blank")}getFormattedPrice(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}editProduct(){if(null!=this.title&&null!=this.category&&null!=this.description&&null!=this.price){const e={id:this.id,title:this.title,category:this.category,description:this.description,price:this.price.replace(".","").replace(",","."),active:!0};this.productService.updateProduct(e).subscribe(),this.alertConfirm("Sucesso","Cadastro alterado com sucesso!",!0)}else this.alertConfirm("Ops","Preencha todos os campos para efetuar o cadastro!",!1)}alertConfirm(e,t,o){return Object(a.a)(this,void 0,void 0,function*(){const i=yield this.alertController.create({cssClass:"my-custom-class",header:e,message:t,buttons:[{text:"OK",handler:()=>{o&&this.location.back()}}]});yield i.present()})}alertConfirmDelete(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Alerta de Confirma\xe7\xe3o",message:"Tem certeza que deseja <strong>excluir</strong> este produto?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Confirmar",handler:()=>{this.productService.deleteProduct(this.id).subscribe(),this.alertConfirm("Sucesso","Cadastro deletado com sucesso!",!0)}}]});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(s.a),l.Jb(b.a),l.Jb(c.a),l.Jb(i.g))},e.\u0275cmp=l.Db({type:e,selectors:[["app-product-details"]],decls:43,vars:7,consts:[["color","primary"],["slot","start"],["defaultHref","/"],[1,"ion-padding"],["position","stacked"],["type","text","placeholder","T\xedtulo do Produto","required","",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange"],["value","Acess\xf3rios"],["value","Celulares"],["value","Eletrodom\xe9sticos"],["value","Games"],["value","Inform\xe1tica"],["placeholder","Descri\xe7\xe3o do Produto","required","",3,"ngModel","ngModelChange"],["type","text","placeholder","Pre\xe7o do Produto","required","",3,"brmasker","ngModel","ngModelChange"],["align","center"],["color","success",3,"click"],["color","danger",3,"click"]],template:function(e,t){1&e&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar",0),l.Mb(2,"ion-buttons",1),l.Kb(3,"ion-back-button",2),l.Lb(),l.Mb(4,"ion-title"),l.hc(5),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content",3),l.Mb(7,"ion-item"),l.Mb(8,"h2"),l.Mb(9,"ion-label",4),l.hc(10,"Produto"),l.Lb(),l.Lb(),l.Mb(11,"ion-input",5),l.Tb("ngModelChange",function(e){return t.title=e}),l.Lb(),l.Lb(),l.Mb(12,"ion-item"),l.Mb(13,"h2"),l.Mb(14,"ion-label",4),l.hc(15,"Categoria"),l.Lb(),l.Lb(),l.Mb(16,"ion-select",6),l.Tb("ngModelChange",function(e){return t.category=e}),l.Mb(17,"ion-select-option",7),l.hc(18,"Acess\xf3rios"),l.Lb(),l.Mb(19,"ion-select-option",8),l.hc(20,"Celulares"),l.Lb(),l.Mb(21,"ion-select-option",9),l.hc(22,"Eletrodom\xe9sticos"),l.Lb(),l.Mb(23,"ion-select-option",10),l.hc(24,"Games"),l.Lb(),l.Mb(25,"ion-select-option",11),l.hc(26,"Inform\xe1tica"),l.Lb(),l.Lb(),l.Lb(),l.Mb(27,"ion-item"),l.Mb(28,"h2"),l.Mb(29,"ion-label",4),l.hc(30,"Descri\xe7\xe3o"),l.Lb(),l.Lb(),l.Mb(31,"ion-textarea",12),l.Tb("ngModelChange",function(e){return t.description=e}),l.Lb(),l.Lb(),l.Mb(32,"ion-item"),l.Mb(33,"h2"),l.Mb(34,"ion-label",4),l.hc(35,"Pre\xe7o"),l.Lb(),l.Lb(),l.Mb(36,"ion-input",13),l.Tb("ngModelChange",function(e){return t.price=e}),l.Lb(),l.Lb(),l.Kb(37,"hr"),l.Mb(38,"div",14),l.Mb(39,"ion-button",15),l.Tb("click",function(){return t.editProduct()}),l.hc(40,"Salvar"),l.Lb(),l.Mb(41,"ion-button",16),l.Tb("click",function(){return t.alertConfirmDelete()}),l.hc(42,"Excluir"),l.Lb(),l.Lb(),l.Lb()),2&e&&(l.zb(5),l.ic(null==t.information?null:t.information.title),l.zb(6),l.ac("ngModel",t.title),l.zb(5),l.ac("ngModel",t.category),l.zb(15),l.ac("ngModel",t.description),l.zb(5),l.ac("brmasker",l.bc(6,d))("ngModel",t.price))},directives:[c.j,c.w,c.f,c.c,c.d,c.v,c.h,c.m,c.n,c.l,c.B,n.h,n.f,n.g,c.s,c.A,c.t,c.u,r.a,c.e],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(u)],s.i]}),e})(),p=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[i.c,n.c,c.x,h,r.b]]}),e})()}}]);